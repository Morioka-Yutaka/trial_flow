# Documentation for the `trial_flow` package.
  
----------------------------------------------------------------
 
 *trial_flow* 
  
----------------------------------------------------------------
 
### Version information:
  
- Package: trial_flow
- Version: 0.2.0
- Generated: 2025-10-20T04:39:09
- Author(s): Yutaka Morioka(sasyupi@gmail.com)
- Maintainer(s): Yutaka Morioka(sasyupi@gmail.com)
- License: MIT
- File SHA256: `F*E26ACAC437203250576AA2CF5479E770E5DE25534C52FD2E16DDA07458116374` for this version
- Content SHA256: `C*03336DD304F66B116C6DAC4F55313359654FF521B2BEF10F4E4CB921F93897BE` for this version
  
---
 
# The `trial_flow` package, version: `0.2.0`;
  
---
 
A SAS macro package for creating flow diagrams, including CONSORT diagrams, with boxes, lines, and plots for clinical trial workflows.
  
---
 
  
---
 
Required SAS Components: 
  - Base SAS Software
  
---
 
 
--------------------------------------------------------------------
 
*SAS package generated by SAS Package Framework, version `20250729`*
 
--------------------------------------------------------------------
 
# The `trial_flow` package content
The `trial_flow` package consists of the following content:
 
1. [`%diagram_box()` macro ](#diagrambox-macro-1 )
2. [`%diagram_line()` macro ](#diagramline-macro-2 )
3. [`%diagram_plot()` macro ](#diagramplot-macro-3 )
  
 
4. [License note](#license)
  
---
 
## `%diagram_box()` macro <a name="diagrambox-macro-1"></a> ######

Macro Name:    diagram_box
   Purpose:
     Creates a rectangular box (polygon) and corresponding
     text annotation dataset for use in flow diagrams.
     The macro generates two datasets:
       - diagram_box_<boxid>:  Coordinates of the box
       - diagram_box_text_<boxid>: Position and content of text
 
   Parameters:
     boxid      = Unique identifier for the box (default=1)
     left_x     = X coordinate of the left edge   (default=10)
     top_y      = Y coordinate of the top edge    (default=100)
     right_x    = X coordinate of the right edge  (default=30)
     bottom_y   = Y coordinate of the bottom edge (default=90)
     text       = Label text to be displayed inside the box
     text_just  = Text justification (CENTER [default] or LEFT)
     text_size = Text font size [1-100 pt] (default =10 pt)
     text_color = Text font color (default = black)
     linecolor = Box linecolor (default = black)
     linepattern = Box linepattern (default=Solid)
     linethickness = Box linethickness (default=1)

   Notes:
     - Coordinates define an axis-aligned rectangle.
     - Text position is calculated based on justification:
         CENTER 竊・centered at the box
          LEFT   竊・aligned to the left edge, vertically centered
     - Text can include line breaks using the SPLITCHAR in SGPLOT.
     - The macro is typically used in combination with diagram_line
       and diagram_plot to build flow diagrams (e.g., CONSORT).

  Usage Example:
    %diagram_box(
        boxid=1,
        left_x=30,
        top_y=100,
        right_x=70,
        bottom_y=90,
        text=Assessed for eligibility (n=100)
    );
 
    %diagram_box(
        boxid=2,
        left_x=65,
        top_y=86,
        right_x=95,
        bottom_y=60,
        text_just=left,
        text=Excluded (n=10)#- Not meeting inclusion criteria (n=4)
             #- Declined to participate (n=4)
             #- Other reasons (n=2)
    );

  
---
 
## `%diagram_line()` macro <a name="diagramline-macro-2"></a> ######

Macro Name : diagram_line
Purpose : Create a dataset containing line coordinates (start -> [mid] -> end).
Useful for plotting diagrams where lines are defined by 2 or 3 points.

 Parameters :
   lineid      = (numeric, default=1)
                 Identifier for the line. Used as a variable in the output dataset name.

   start_x     = (numeric, default=30)
   start_y     = (numeric, default=90)
                 Coordinates of the starting point of the line.

   midpoint_x  = (numeric, optional)
   midpoint_y  = (numeric, optional)
                 Coordinates of an optional midpoint. If both are provided,
                 the line will include this point.

   end_x       = (numeric, default=30)
   end_y       = (numeric, default=60)
                 Coordinates of the end point of the line.

   linecolor    = Lline color (default = black)
   linepattern = Line pattern (default=Solid)
   linethickness = Linethickness (default=1)


 Output     :
   A dataset named diagram_line_<lineid> with variables:
     - lineid : the line identifier
     - line_x : x coordinate of points
     - line_y : y coordinate of points

 Example    :
   %diagram_line(lineid=2, start_x=10, start_y=20, midpoint_x=15, midpoint_y=25, end_x=30, end_y=40);
  -> Produces dataset diagram_line_2 with 3 points: (10,20) -> (15,25) -> (30,40)

  
---
 
## `%diagram_plot()` macro <a name="diagramplot-macro-3"></a> ######

Macro name:    diagram_plot
  Purpose:
    Combines all generated diagram components (boxes, text,
    and lines) and plots them as a flow diagram using PROC SGPLOT.
    The macro collects all datasets prefixed with "diagram_" and
    produces a complete diagram without axes or borders.

  Parameters:
    minx  = Minimum value of the X-axis (default=0)
    maxx  = Maximum value of the X-axis (default=100)
    miny  = Minimum value of the Y-axis (default=0)
    maxy  = Maximum value of the Y-axis (default=100)
    text_font = Text font (default=Courier)

  Notes:
    - This macro expects that %diagram_box and %diagram_line
      have already been called to create the component datasets.
    - Text is automatically split by the SPLITCHAR (#) option.
    - Arrows are drawn for lines with arrowhead at the end.

  Usage Example:
    %diagram_box(
        boxid=1,
        left_x=30, top_y=100,
        right_x=70, bottom_y=90,
        text=Assessed for eligibility (n=100)
    );

    %diagram_line(
        lineid=1,
        start_x=50, start_y=90,
        end_x=50,   end_y=55
    );

    %diagram_box(
        boxid=2,
        left_x=37, top_y=55,
        right_x=63, bottom_y=45,
        text=Randomized (n=90)
    );

    %diagram_plot(minx=0, maxx=100, miny=0, maxy=100);

  
---
 
  
---
 
# License <a name="license"></a> ######
 
	Copyright (c) [2025]  [Yutaka Morioka]

Permission is hereby granted, free of charge, to any person obtaining a copy   
of this software and associated documentation files (the "Software"), to deal    
in the Software without restriction, including without limitation the rights   
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell   
copies of the Software, and to permit persons to whom the Software is   
furnished to do so, subject to the following conditions:                      
                                                                                
The above copyright notice and this permission notice shall be included       
in all copies or substantial portions of the Software.                        
                                                                                
THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR    
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,      
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE   
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER        
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, 
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE 
SOFTWARE.
  
---
 
